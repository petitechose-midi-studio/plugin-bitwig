; PlatformIO Project Configuration File - Bitwig Plugin
;
; DEVELOPMENT CONFIGURATION
; This configuration is intended for development purposes only.
; It compiles MIDI Studio Core + Bitwig plugin only.
;
; This plugin firmware uses MIDI Studio Core as a library.
; Common build flags and extra_scripts are inherited from core's library.json

[platformio]
default_envs = prod

[env]
framework = arduino
platform = teensy
board = teensy41
monitor_dtr = 0
monitor_rts = 0
board_build.f_cpu = 450000000L
lib_deps =
	; MIDI Studio Core dependency
	; ===========================
	; RECOMMENDED: Use a specific version tag to ensure compatibility with a known stable version
	; https://github.com/petitechose-midi-studio/core.git#1.0.0-beta.1

	; ALTERNATIVE OPTIONS (uncomment if needed):
	; - Track latest development (may have breaking changes):
	;   https://github.com/petitechose-midi-studio/core.git#main
	; - Use local repository for active core development:
	  symlink://../core

build_flags =
	-D USB_MIDI_SERIAL
	-D TEENSY_OPT_SMALLEST_CODE
	-D LV_CONF_INCLUDE_SIMPLE
	-D LV_LVGL_H_INCLUDE_SIMPLE

[env:prod]
build_flags =
	${env.build_flags}

[env:debug]
build_flags =
	${env.build_flags}
	-DDEBUG_LOGS
	; -D PERF_MONITOR
	; -D MEM_MONITOR
